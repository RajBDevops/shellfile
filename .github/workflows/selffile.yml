name: Docker install in EC2

on: push

jobs:
  install-docker:
    runs-on: self-hosted
    steps:
      - name: Check out the code
        uses: actions/checkout@v2
      - name: Debug â€” list files and directories
        run: |
          echo "Current directory:"
          pwd
          echo "Files in current directory:"
          ls -al
          echo "Searching for mydocker.sh:"
          find . -name "mydocker.sh"

      -  name: check out the permission to exictie the file
         run: |
             chmod 700 mydocker.sh
             ./mydocker.sh
  docker-run:
     needs: install-docker
     runs-on: self-hosted
     steps:
        - name: Install Docker in EC2
          run: ./mydocker.sh

            
        
  
